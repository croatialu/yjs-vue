import{u as D,a as S,_ as I}from"./chunks/index.vue_vue_type_script_setup_true_lang.CTrRtXjE.js";import{G as y,h as n,a3 as b,k,z as O,d as L,o as l,c,a as u,t as m,m as N,F as A,E,l as i,D as M,I as f,w}from"./chunks/framework.BuRjiR0F.js";function V(d){const s=y(new Map),o=y({}),a=n(()=>b(d)),p=e=>{a.value&&(a.value.setLocalState(e),o.value=e)},r=()=>{a.value&&(s.value=new Map(Array.from(a.value.getStates()).map(([e,_])=>[e,_])))};return k(()=>{var e;(e=a.value)==null||e.on("change",r)}),O(()=>{var e;(e=a.value)==null||e.off("change",r)}),{states:n(()=>s.value),localID:n(()=>{var e;return(e=a.value)==null?void 0:e.clientID}),localState:n(()=>o.value),setLocalState:p}}const j=i("br",null,null,-1),B={style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",padding:0,margin:0,zIndex:100,pointerEvents:"none"}},P=["cx","cy"],$=L({__name:"index",setup(d){const s=D("counter-example-yjs-vue-cursor",{signaling:["wss://yjs-server.cccboy.com"]}),{states:o,localID:a,setLocalState:p}=V(n(()=>{var t;return(t=s.value)==null?void 0:t.awareness})),r=n(()=>Array.from(o.value.entries()).filter(([t])=>t!==a.value).map(([t,g])=>({...g,clientID:t}))),{get:e,set:_}=S("state"),h=n(()=>e.value("count"));window.addEventListener("pointermove",t=>{p({x:t.clientX,y:t.clientY})});function C(){var t;_("count",{count:(((t=h.value)==null?void 0:t.count)||0)+1})}return(t,g)=>{var x;return l(),c("div",null,[u(" Self ClientID: "+m(N(a))+" ",1),j,u(" "+m(JSON.stringify(r.value))+" ",1),(l(),c("svg",B,[(l(!0),c(A,null,E(r.value,v=>(l(),c("circle",{key:v.clientID,cx:v.x,cy:v.y,r:5},null,8,P))),128))])),u(" "+m((x=h.value)==null?void 0:x.count)+" ",1),i("button",{onClick:C}," +1 ")])}}}),z=i("h1",{id:"cursor",tabindex:"-1"},[u("Cursor "),i("a",{class:"header-anchor",href:"#cursor","aria-label":'Permalink to "Cursor"'},"â€‹")],-1),U=JSON.parse('{"title":"Cursor","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"examples/cursor.md","filePath":"examples/cursor.md"}'),F={name:"examples/cursor.md"},G=Object.assign(F,{setup(d){return(s,o)=>{const a=M("ClientOnly");return l(),c("div",null,[z,f(a,null,{default:w(()=>[f(I,null,{default:w(()=>[f($)]),_:1})]),_:1})])}}});export{U as __pageData,G as default};
