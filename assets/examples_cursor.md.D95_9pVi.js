import{u as x,_ as g}from"./chunks/index.vue_vue_type_script_setup_true_lang.CjTB_519.js";import{G as v,h as a,a3 as y,k as w,z as C,d as D,o,c as l,a as p,t as f,m as S,F as I,E as b,l as m,D as O,I as _,w as h}from"./chunks/framework.B_uwAT6x.js";function k(u){const s=v(new Map),n=v({}),t=a(()=>y(u)),i=e=>{t.value&&(t.value.setLocalState(e),n.value=e)},r=()=>{t.value&&(s.value=new Map(Array.from(t.value.getStates()).map(([e,c])=>[e,c])))};return w(()=>{var e;(e=t.value)==null||e.on("change",r)}),C(()=>{var e;(e=t.value)==null||e.off("change",r)}),{states:a(()=>s.value),localID:a(()=>{var e;return(e=t.value)==null?void 0:e.clientID}),localState:a(()=>n.value),setLocalState:i}}const L=m("br",null,null,-1),N={style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",padding:0,margin:0,zIndex:100,pointerEvents:"none"}},A=["cx","cy"],E=D({__name:"index",setup(u){const s=x("counter-example-yjs-vue-cursor",{signaling:["wss://yjs-server.cccboy.com"]}),{states:n,localID:t,setLocalState:i}=k(a(()=>{var e;return(e=s.value)==null?void 0:e.awareness})),r=a(()=>Array.from(n.value.entries()).filter(([e])=>e!==t.value).map(([e,c])=>({...c,clientID:e})));return window.addEventListener("pointermove",e=>{i({x:e.clientX,y:e.clientY})}),(e,c)=>(o(),l("div",null,[p(" Self ClientID: "+f(S(t))+" ",1),L,p(" "+f(JSON.stringify(r.value))+" ",1),(o(),l("svg",N,[(o(!0),l(I,null,b(r.value,d=>(o(),l("circle",{key:d.clientID,cx:d.x,cy:d.y,r:5},null,8,A))),128))]))]))}}),V=m("h1",{id:"cursor",tabindex:"-1"},[p("Cursor "),m("a",{class:"header-anchor",href:"#cursor","aria-label":'Permalink to "Cursor"'},"â€‹")],-1),P=JSON.parse('{"title":"Cursor","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"examples/cursor.md","filePath":"examples/cursor.md"}'),j={name:"examples/cursor.md"},$=Object.assign(j,{setup(u){return(s,n)=>{const t=O("ClientOnly");return o(),l("div",null,[V,_(t,null,{default:h(()=>[_(g,null,{default:h(()=>[_(E)]),_:1})]),_:1})])}}});export{P as __pageData,$ as default};
